(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[18],{468:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}},469:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(196),r=n.n(a),s=function(e){return e<2?{label:"Poor",color:r.a.errorMain}:e<3?{label:"Weak",color:r.a.warningDark}:e<4?{label:"Normal",color:r.a.orangeMain}:e<5?{label:"Good",color:r.a.successMain}:e<6?{label:"Strong",color:r.a.successDark}:void 0},c=function(e){var t=0;return e.length>5&&t++,e.length>7&&t++,function(e){return new RegExp(/[0-9]/).test(e)}(e)&&t++,function(e){return new RegExp(/[!#@$%^&*)(+=._-]/).test(e)}(e)&&t++,function(e){return new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e)}(e)&&t++,t}},496:function(e,t,n){"use strict";var a=n(541),r=Object(a.a)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"80vh"}}));t.a=r},500:function(e,t,n){"use strict";var a=n(5),r=n(3),s=n(81),c=(n(0),n(251)),i=n(102),o=n(1),l=["children"];t.a=function(e){var t=e.children,n=Object(s.a)(e,l),d=(window.location.pathname.includes("html")?window.location.hash:window.location.pathname).includes("/login")?"1050px":"475px",u=Object(c.a)((function(e){var t;return{card:(t={maxWidth:d,"& > *":{flexGrow:1,flexBasis:"50%"}},Object(r.a)(t,e.breakpoints.down("sm"),{margin:"20px"}),Object(r.a)(t,e.breakpoints.down("lg"),{maxWidth:"400px"}),t),content:Object(r.a)({padding:e.spacing(5)+" !important"},e.breakpoints.down("lg"),{padding:e.spacing(3)+" !important"})}}))();return Object(o.jsx)(i.a,Object(a.a)(Object(a.a)({className:u.card,contentClass:u.content},n),{},{children:t}))}},756:function(e,t,n){"use strict";n.r(t);var a=n(76),r=n(12),s=n(47),c=n.n(s),i=n(0),o=n.n(i),l=n(30),d=n(32),u=n(43),b=n(431),j=n(31),p=n(432),h=n(99),x=n(332),O=n(496),g=n(201),m=n(5),f=n(3),w=n(26),v=n(251),y=n(572),k=n(749),C=n(754),S=n(531),E=n(459),R=n(573),I=n(448),W=n(454),P=n(471),z=n(470),B=n(91),A=n.n(B),D=n(468),F=n(79),M=n(469),V=n(482),G=n.n(V),H=n(483),N=n.n(H),_=n(436),q=n(22),J=n(1),T=Object(v.a)((function(e){return{redButton:Object(f.a)({fontSize:"1rem",fontWeight:500,backgroundColor:e.palette.grey[50],border:"1px solid",borderColor:e.palette.grey[100],color:e.palette.grey[700],textTransform:"none","&:hover":{backgroundColor:e.palette.primary.light}},e.breakpoints.down("sm"),{fontSize:"0.875rem"}),signDivider:{flexGrow:1},signText:{cursor:"unset",margin:e.spacing(2),padding:"5px 56px",borderColor:e.palette.grey[100]+" !important",color:e.palette.grey[900]+"!important",fontWeight:500},loginIcon:Object(f.a)({marginRight:"16px"},e.breakpoints.down("sm"),{marginRight:"8px"}),loginInput:Object(m.a)({},e.typography.customInput)}})),Z=function(e){var t=Object.assign({},e),n=Object(l.g)(),a=Object(q.b)(),s=T(),c=Object(l.i)().token,d=Object(D.a)(),u=Object(b.a)((function(e){return e.breakpoints.down("sm")})),p=o.a.useState(!1),x=Object(r.a)(p,2),O=x[0],g=x[1],f=o.a.useState(0),v=Object(r.a)(f,2),B=v[0],V=v[1],H=o.a.useState(""),Z=Object(r.a)(H,2),$=Z[0],K=Z[1],L=function(){g(!O)},Q=function(e){e.preventDefault()},U=function(e){var t=Object(M.b)(e);V(t),K(Object(M.a)(t))};return Object(i.useEffect)((function(){U("123456")}),[]),Object(J.jsx)(o.a.Fragment,{children:Object(J.jsx)(z.a,{initialValues:{password:"",submit:null},validationSchema:P.a().shape({password:P.b().max(255).required("Password is required")}),onSubmit:function(e,t){var r=t.setErrors,s=t.setStatus,i=t.setSubmitting;try{A.a.post(w.a.API_SERVER+"api/Forget/change",{token:c,password:e.password}).then((function(e){s({success:!0}),r({submit:e.data.msg}),i(!1),n.push("/login"),a({type:"Click",payload:{text:"the password has been sent",severity:"success"}})})).catch((function(e){s({success:!1}),r({submit:e.response.data.msg}),i(!1)}))}catch(o){console.error(o),d.current&&(s({success:!1}),r({submit:o.message}),i(!1))}},children:function(e){var n=e.errors,a=e.handleBlur,r=e.handleChange,c=e.handleSubmit,i=e.isSubmitting,o=e.touched,l=e.values;return Object(J.jsxs)("form",Object(m.a)(Object(m.a)({noValidate:!0,onSubmit:c},t),{},{children:[Object(J.jsx)(j.a,{container:!0,spacing:u?0:2,children:Object(J.jsx)(j.a,{item:!0,xs:12})}),Object(J.jsxs)(y.a,{fullWidth:!0,error:Boolean(o.password&&n.password),className:s.loginInput,children:[Object(J.jsx)(k.a,{htmlFor:"outlined-adornment-password-register",children:"Password"}),Object(J.jsx)(C.a,{id:"outlined-adornment-password-register",type:O?"text":"password",value:l.password,name:"password",label:"Password",onBlur:a,onChange:function(e){r(e),U(e.target.value)},endAdornment:Object(J.jsx)(S.a,{position:"end",children:Object(J.jsx)(E.a,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:Q,edge:"end",children:O?Object(J.jsx)(G.a,{}):Object(J.jsx)(N.a,{})})}),inputProps:{classes:{notchedOutline:s.notchedOutline}}}),o.password&&n.password&&Object(J.jsx)(R.a,{error:!0,id:"standard-weight-helper-text-password-register",children:n.password})]}),0!==B&&Object(J.jsx)(y.a,{fullWidth:!0,children:Object(J.jsx)(I.a,{sx:{mb:2},children:Object(J.jsxs)(j.a,{container:!0,spacing:2,alignItems:"center",children:[Object(J.jsx)(j.a,{item:!0,children:Object(J.jsx)(I.a,{backgroundColor:$.color,sx:{width:85,height:8,borderRadius:"7px"}})}),Object(J.jsx)(j.a,{item:!0,children:Object(J.jsx)(h.a,{variant:"subtitle1",fontSize:"0.75rem",children:$.label})})]})})}),n.submit&&Object(J.jsx)(I.a,{sx:{mt:3},children:Object(J.jsx)(_.a,{variant:"filled",severity:"error",children:n.submit})}),Object(J.jsx)(I.a,{sx:{mt:2},children:Object(J.jsx)(F.a,{children:Object(J.jsx)(W.a,{disableElevation:!0,disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Change it"})})})]}))}})})},$=n(500);t.default=function(){var e=Object(q.b)(),t=Object(l.i)().token,n=Object(l.g)(),s=Object(i.useState)(!1),o=Object(r.a)(s,2),m=o[0],f=o[1],v=Object(i.useState)(!0),y=Object(r.a)(v,2),k=(y[0],y[1]),C=Object(u.a)(),S=Object(b.a)(C.breakpoints.down("sm"));return Object(i.useEffect)((function(){var r=function(){var r=Object(a.a)(c.a.mark((function a(){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=5;break}e({type:"Click",payload:{text:"lien invalid",severity:"error"}}),n.push("/login"),a.next=18;break;case 5:return a.prev=5,a.next=8,A.a.post(w.a.API_SERVER+"api/Forget/validation",{token:t});case 8:r=a.sent,f(r.data.success),r.data.success||(e({type:"Click",payload:{text:"lien invalid",severity:"error"}}),n.push("/login")),a.next=18;break;case 13:a.prev=13,a.t0=a.catch(5),e({type:"Click",payload:{text:"lien invalid",severity:"error"}}),n.push("/login"),a.t0.response.data.success&&k(a.t0.response.data.success);case 18:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(){return r.apply(this,arguments)}}();r()}),[]),m&&Object(J.jsx)(O.a,{children:Object(J.jsx)(j.a,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:Object(J.jsx)(j.a,{item:!0,xs:12,children:Object(J.jsx)(j.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:Object(J.jsx)(j.a,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:Object(J.jsx)($.a,{children:Object(J.jsxs)(j.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(J.jsx)(j.a,{item:!0,sx:{mb:3},children:Object(J.jsx)(d.b,{to:"#",children:Object(J.jsx)(g.a,{})})}),Object(J.jsx)(j.a,{item:!0,xs:12,children:Object(J.jsx)(j.a,{container:!0,direction:S?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:Object(J.jsx)(j.a,{item:!0,children:Object(J.jsxs)(p.a,{alignItems:"center",justifyContent:"center",spacing:1,children:[Object(J.jsx)(h.a,{color:C.palette.secondary.main,gutterBottom:!0,variant:S?"h3":"h2",children:"Reinstall password"}),Object(J.jsx)(h.a,{variant:"caption",fontSize:"16px",textAlign:S?"center":"",children:"Enter your new password"})]})})})}),Object(J.jsx)(j.a,{item:!0,xs:12,children:Object(J.jsx)(Z,{})}),Object(J.jsx)(j.a,{item:!0,xs:12,children:Object(J.jsx)(x.a,{})}),Object(J.jsx)(j.a,{item:!0,xs:12,children:Object(J.jsx)(j.a,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12})})]})})})})})})})}}}]);
//# sourceMappingURL=18.85704394.chunk.js.map